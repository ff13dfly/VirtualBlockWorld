# 弦粒子说明

虚拟世界的一个巨大挑战，就是创造丰富多彩的3D空间，现实中就是要有环境和建筑物，不仅仅是建筑物的外部形像，而是可以进入的室内空间。通过传统的建模方式，将消耗大量的人力，在虚拟世界运行初期，这将成为不可承受之重，只能形成一个荒芜的世界。

虚块世界通过弦粒子系统，来解决这个难题，可以实现高效的自动化建造系统，只需要框选，就能建造出不同的建筑空间。



## 弦粒子原理

#### 空间的联通和阻挡

弦，是一种存在于理论中的微小细绳，它在不同方向上的震动，构成了我们整个宇宙。弦粒子系统对于虚块世界而言，也有类似的作用。当我们用4m * 4m的立方体把空间进行划分时，会呈现出下面的状况。

![4*2的空间划分]()

空间之间，存在两种关系，联通或者阻挡，于是，可以得到以下的一种结果。

![4*2的空间联动状态]()

当我们用弦粒子去填充的时候（在这个情况下，弦粒子的尺寸为4m的立方体），会呈现以下的结果。

![4*2的空间填充效果]()

通过这种方式，可以对空间范围进行扩大，例如变成8*8的方式来填满整个土地，需要改变和调整的，仅仅是立方体之间的联通关系，这就是弦粒子系统的强大之处。



#### 空间的空缺

当我们去除一些弦粒子空间，完全呈现为无的状态时，就更丰富了虚拟的世界，可以形成层峦叠嶂的效果，对于建筑物而言，可以形成露台等开放空间。



#### 一个完整的弦粒子

弦粒子就是包括所有空间状态的数据，当量子化的时候，取出



## 弦粒子类型

理论上可以对整个空间进行无缝填充的几何图型都可以作为弦粒子，适合使用的整理表格如下：

| 边📖  | 数量           | 图形 |
| ---- | -------------- | ---- |
| 3    | 正三角形       |      |
| 4    | 正方形、长方形 |      |
| 5    |                |      |
| 6    | 正六边形       |      |



#### 平面弦粒子（Plane）

* 适用内容：平面环境的布局，迷宫的建设

* Plane类型弦粒子是Box类型弦粒子的一种缩略形式，数据结构简单，单独提取出来。

* 样例：

  

#### 盒子弦粒子（Box）

* 适用内容：建筑物的创建，3D地形创建

* Box类型弦粒子是最常见的弦粒子类型，功能丰富，适用性强，重点介绍。

* 样例：

  

#### 屋面弦粒子（Roof）

* 适用内容：复杂关系的建筑物创建